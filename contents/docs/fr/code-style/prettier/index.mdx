---
title: "Prettier - Formatage Automatique de Code"
description: "Guide complet sur Prettier, l'outil de formatage automatique qui garantit un style de code coh√©rent et une meilleure lisibilit√© dans vos projets."
---


Prettier est un formateur de code opinionated qui analyse votre code et le r√©imprime avec ses propres r√®gles de style, garantissant ainsi une coh√©rence parfaite dans tout votre projet.

## üéØ Qu'est-ce que Prettier ?

### D√©finition

**Prettier** est un outil de formatage de code qui :
- Analyse la structure de votre code
- Applique des r√®gles de formatage coh√©rentes
- R√©imprime le code avec un style uniforme
- √âlimine les d√©bats sur le style au sein des √©quipes

<Note>
**Philosophie** : "You press save and code is formatted. No need to discuss style in code review. Saves you time and energy."
</Note>

### Langages Support√©s

- JavaScript, TypeScript, JSX, TSX
- CSS, SCSS, Less
- HTML, Vue
- JSON, YAML
- Markdown
- GraphQL

## üöÄ Installation et Configuration

### Installation

```bash
# Installation locale (recommand√©e)
npm install --save-dev prettier

# Installation globale
npm install -g prettier

# Avec Yarn
yarn add --dev prettier
```

### Configuration de Base

```json
// .prettierrc
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false,
  "bracketSpacing": true,
  "arrowParens": "always"
}
```

### Formats de Configuration

```javascript
// .prettierrc.js
module.exports = {
  semi: true,
  trailingComma: 'es5',
  singleQuote: true,
  printWidth: 80,
  tabWidth: 2,
  useTabs: false,
};
```

```yaml
# .prettierrc.yaml
semi: true
trailingComma: "es5"
singleQuote: true
printWidth: 80
tabWidth: 2
useTabs: false
```

## ‚öôÔ∏è Options de Configuration

### Options Principales

```json
{
  "printWidth": 80,           // Longueur maximale d'une ligne
  "tabWidth": 2,              // Nombre d'espaces par niveau d'indentation
  "useTabs": false,           // Utiliser des tabs au lieu d'espaces
  "semi": true,               // Ajouter des points-virgules
  "singleQuote": true,        // Utiliser des guillemets simples
  "quoteProps": "as-needed",  // Guillemets sur les propri√©t√©s d'objets
  "trailingComma": "es5",     // Virgules finales
  "bracketSpacing": true,     // Espaces dans les brackets d'objets
  "arrowParens": "always"     // Parenth√®ses autour des param√®tres arrow functions
}
```

### Exemples de Formatage

#### JavaScript/TypeScript

```javascript
// Avant Prettier
const user={name:"John",age:30,city:"Paris"};
const greet=(name,age)=>`Hello ${name}, you are ${age} years old`;

// Apr√®s Prettier
const user = { name: 'John', age: 30, city: 'Paris' };
const greet = (name, age) => `Hello ${name}, you are ${age} years old`;
```

#### CSS

```css
/* Avant Prettier */
.button{background-color:#007bff;color:white;padding:10px 20px;border:none;}

/* Apr√®s Prettier */
.button {
  background-color: #007bff;
  color: white;
  padding: 10px 20px;
  border: none;
}
```

#### JSON

```json
// Avant Prettier
{"name":"MyProject","version":"1.0.0","dependencies":{"react":"^18.0.0","prettier":"^2.8.0"}}

// Apr√®s Prettier
{
  "name": "MyProject",
  "version": "1.0.0",
  "dependencies": {
    "react": "^18.0.0",
    "prettier": "^2.8.0"
  }
}
```

## üé® Int√©gration avec les √âditeurs

### Visual Studio Code

#### Extension Prettier

1. Installer l'extension "Prettier - Code formatter"
2. Configurer comme formateur par d√©faut

```json
// .vscode/settings.json
{
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.formatOnSave": true,
  "editor.formatOnPaste": true,
  "prettier.requireConfig": true,
  "[javascript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[typescript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[json]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  }
}
```

### WebStorm/IntelliJ

1. Aller dans `Settings > Tools > File Watchers`
2. Ajouter un nouveau watcher pour Prettier
3. Ou installer le plugin Prettier

### Vim/Neovim

```vim
" Avec vim-prettier
autocmd BufWritePre *.js,*.jsx,*.ts,*.tsx,*.css,*.scss,*.json,*.md PrettierAsync
```

## üîß Scripts NPM

```json
// package.json
{
  "scripts": {
    "format": "prettier --write .",
    "format:check": "prettier --check .",
    "format:staged": "pretty-quick --staged",
    "format:js": "prettier --write '**/*.{js,jsx,ts,tsx}'",
    "format:css": "prettier --write '**/*.{css,scss,less}'",
    "format:json": "prettier --write '**/*.json'"
  }
}
```

### Utilisation

```bash
# Formater tout le projet
npm run format

# V√©rifier le formatage sans modifier
npm run format:check

# Formater seulement les fichiers stag√©s (Git)
npm run format:staged

# Formater des fichiers sp√©cifiques
npx prettier --write src/components/Button.js
npx prettier --write "src/**/*.{js,jsx,ts,tsx}"
```

## üö´ Fichier .prettierignore

```gitignore
# .prettierignore
node_modules
build
dist
coverage
*.min.js
*.min.css
public/
.next/
.nuxt/
.vuepress/dist
.cache
package-lock.json
yarn.lock
```

## ü§ù Int√©gration avec ESLint

### Installation

```bash
npm install --save-dev eslint-config-prettier eslint-plugin-prettier
```

### Configuration ESLint

```json
// .eslintrc.json
{
  "extends": [
    "eslint:recommended",
    "prettier" // Doit √™tre en dernier
  ],
  "plugins": ["prettier"],
  "rules": {
    "prettier/prettier": "error"
  }
}
```

### Configuration Alternative (Recommand√©e)

```json
// .eslintrc.json - Configuration s√©par√©e
{
  "extends": [
    "eslint:recommended"
  ]
}
```

Puis utiliser ESLint pour les r√®gles de code et Prettier pour le formatage.

## üîÑ Git Hooks avec Husky

### Installation

```bash
npm install --save-dev husky lint-staged
npx husky install
```

### Configuration

```json
// package.json
{
  "lint-staged": {
    "*.{js,jsx,ts,tsx,css,scss,json,md}": [
      "prettier --write",
      "git add"
    ]
  },
  "husky": {
    "hooks": {
      "pre-commit": "lint-staged"
    }
  }
}
```

### Script de Hook

```bash
#!/bin/sh
# .husky/pre-commit
. "$(dirname "$0")/_/husky.sh"

npx lint-staged
```

## üéØ Configurations Recommand√©es

### Pour React/TypeScript

```json
// .prettierrc
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false,
  "bracketSpacing": true,
  "bracketSameLine": false,
  "arrowParens": "always",
  "endOfLine": "lf"
}
```

### Pour Vue.js

```json
// .prettierrc
{
  "semi": false,
  "singleQuote": true,
  "printWidth": 100,
  "tabWidth": 2,
  "trailingComma": "es5",
  "bracketSpacing": true,
  "vueIndentScriptAndStyle": true
}
```

### Pour Node.js

```json
// .prettierrc
{
  "semi": true,
  "singleQuote": true,
  "printWidth": 100,
  "tabWidth": 2,
  "trailingComma": "all",
  "bracketSpacing": true,
  "arrowParens": "avoid"
}
```

## üîç D√©bogage et R√©solution de Probl√®mes

### V√©rifier la Configuration

```bash
# Voir quelle configuration Prettier utilise
npx prettier --find-config-path src/index.js

# Afficher la configuration compl√®te
npx prettier --show-config src/index.js
```

### Probl√®mes Courants

#### Conflit avec ESLint

```bash
# Identifier les r√®gles en conflit
npx eslint-config-prettier src/index.js
```

#### Fichiers Non Format√©s

```bash
# V√©rifier si un fichier est ignor√©
npx prettier --check src/index.js --loglevel debug
```

#### Performance

```bash
# Utiliser le cache pour am√©liorer les performances
npx prettier --write . --cache
```

## üìä Int√©gration CI/CD

### GitHub Actions

```yaml
# .github/workflows/format.yml
name: Format Check

on: [push, pull_request]

jobs:
  format:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        cache: 'npm'
    
    - name: Install dependencies
      run: npm ci
    
    - name: Check formatting
      run: npm run format:check
```

### GitLab CI

```yaml
# .gitlab-ci.yml
format_check:
  stage: test
  image: node:18
  script:
    - npm ci
    - npm run format:check
  only:
    - merge_requests
    - master
```

## üéì Bonnes Pratiques

### Configuration d'√âquipe

1. **D√©cider ensemble** : Toute l'√©quipe doit approuver la configuration
2. **Commencer simple** : Utiliser la configuration par d√©faut au d√©but
3. **Documenter** : Expliquer les choix de configuration dans le README
4. **√ätre coh√©rent** : Appliquer √† tous les projets de l'√©quipe

### R√®gles d'Or

- **Ne pas d√©battre du style** : Laisser Prettier d√©cider
- **Formater automatiquement** : Utiliser les hooks Git et l'IDE
- **√ätre pragmatique** : Parfois d√©sactiver pour du code g√©n√©r√©
- **Mettre √† jour r√©guli√®rement** : Suivre les nouvelles versions

<Note type="success">
**Avantage principal** : Prettier √©limine compl√®tement les discussions sur le style de code lors des revues, permettant de se concentrer sur la logique et l'architecture.
</Note>

## üîß Configuration Avanc√©e

### Overrides par Type de Fichier

```json
{
  "semi": true,
  "singleQuote": true,
  "overrides": [
    {
      "files": "*.json",
      "options": {
        "printWidth": 200
      }
    },
    {
      "files": "*.md",
      "options": {
        "proseWrap": "always",
        "printWidth": 70
      }
    }
  ]
}
```

### Plugins Personnalis√©s

```bash
# Plugin pour XML
npm install --save-dev @prettier/plugin-xml

# Plugin pour PHP
npm install --save-dev @prettier/plugin-php
```

```json
{
  "plugins": ["@prettier/plugin-xml", "@prettier/plugin-php"]
}
```

---

Prettier transforme le formatage de code d'une corv√©e en automatisme, permettant aux d√©veloppeurs de se concentrer sur ce qui compte vraiment : la logique et la cr√©ativit√© !